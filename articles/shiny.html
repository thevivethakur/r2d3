<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Using r2d3 with Shiny • r2d3</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<script src="../extra.js"></script><meta property="og:title" content="Using r2d3 with Shiny">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">r2d3</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">Using</li>
    <li>
      <a href="../articles/data_conversion.html">R to D3 Data Conversion</a>
    </li>
    <li>
      <a href="../articles/visualization_options.html">D3 Visualization Options</a>
    </li>
    <li>
      <a href="../articles/development_and_debugging.html">Development and Debugging</a>
    </li>
    <li>
      <a href="../articles/publishing.html">Publishing D3 Visualizations</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">Advanced</li>
    <li>
      <a href="../articles/shiny.html">Using r2d3 with Shiny</a>
    </li>
    <li>
      <a href="../articles/dependencies.html">CSS and JavaScript Dependencies </a>
    </li>
    <li>
      <a href="../articles/advanced_rendering.html">Advanced Rendering with Callbacks</a>
    </li>
    <li>
      <a href="../articles/package_development.html">Package Development</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/learning_d3.html">Learning D3</a>
</li>
<li>
  <a href="../articles/gallery.html">Gallery</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rstudio/r2d3/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Using r2d3 with Shiny</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rstudio/r2d3/blob/main/vignettes/shiny.Rmd" class="external-link"><code>vignettes/shiny.Rmd</code></a></small>
      <div class="hidden name"><code>shiny.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>Integrating Shiny and D3 can be a powerful combination. Deriving
insights from data is streamlined when users are able to modify a Shiny
input, or click on a D3 visualization, and that action produces new
results.</p>
<p>There are two ways that D3 visualizations can be integrated with
Shiny. The difference has to do with the direction of the
communication:</p>
<ol style="list-style-type: decimal">
<li><p>From <strong>Shiny</strong> to <strong>D3</strong></p></li>
<li><p>From <strong>D3</strong> to <strong>Shiny</strong></p></li>
</ol>
</div>
<div class="section level2">
<h2 id="shiny-to-d3">Shiny to D3<a class="anchor" aria-label="anchor" href="#shiny-to-d3"></a>
</h2>
<p>When going from Shiny to D3, users make changes to Shiny inputs which
result in changes to the D3 visualization. The <code>r2d3</code> package
provides two functions that enables this functionality:</p>
<ol style="list-style-type: decimal">
<li>
<p><code><a href="../reference/d3-shiny.html">renderD3()</a></code> - Works just like
<code><a href="https://rdrr.io/pkg/shiny/man/renderPlot.html" class="external-link">renderPlot()</a></code>, it creates a reactive D3 plot that can be
used as an <code>output</code>. <code><a href="../reference/d3-shiny.html">renderD3()</a></code> is used
server-side (<code>server</code>):</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">d3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/d3-shiny.html">renderD3</a></span><span class="op">(</span><span class="op">{</span><span class="va">...</span><span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</li>
<li>
<p><code><a href="../reference/d3-shiny.html">d3Output()</a></code> - Akin to <code><a href="https://rdrr.io/pkg/shiny/man/plotOutput.html" class="external-link">plotOutput()</a></code>, it
is used client-side (<code>ui</code>):</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html" class="external-link">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/d3-shiny.html">d3Output</a></span><span class="op">(</span><span class="st">"d3"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</li>
</ol>
<div class="section level3">
<h3 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h3>
<p>This example shows a Shiny app that modifies a D3 plot’s bar length
based on the value that the user chooses for the
<code><a href="https://rdrr.io/pkg/shiny/man/sliderInput.html" class="external-link">sliderInput()</a></code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.posit.co/" class="external-link">shiny</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rstudio.github.io/r2d3/">r2d3</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html" class="external-link">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/inputPanel.html" class="external-link">inputPanel</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sliderInput.html" class="external-link">sliderInput</a></span><span class="op">(</span><span class="st">"bar_max"</span>, label <span class="op">=</span> <span class="st">"Max:"</span>,</span>
<span>      min <span class="op">=</span> <span class="fl">0</span>, max <span class="op">=</span> <span class="fl">1</span>, value <span class="op">=</span> <span class="fl">1</span>, step <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/d3-shiny.html">d3Output</a></span><span class="op">(</span><span class="st">"d3"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">d3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/d3-shiny.html">renderD3</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu"><a href="../reference/r2d3.html">r2d3</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">0</span>, <span class="va">input</span><span class="op">$</span><span class="va">bar_max</span><span class="op">)</span>,</span>
<span>      script <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"examples/baranims.js"</span>, package <span class="op">=</span> <span class="st">"r2d3"</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span>ui <span class="op">=</span> <span class="va">ui</span>, server <span class="op">=</span> <span class="va">server</span><span class="op">)</span></span></code></pre></div>
<p>And here is the app in action:</p>
<p><img src="images%2Fbaranim-1.gif" class="illustration" width="600/"></p>
</div>
</div>
<div class="section level2">
<h2 id="d3-to-shiny">D3 to Shiny<a class="anchor" aria-label="anchor" href="#d3-to-shiny"></a>
</h2>
<p>Having a D3 plot update based on a changing Shiny input is very
common. But, what about having an action that happened inside a D3 plot
trigger something in Shiny?</p>
<p>For example, we may want Shiny to know that our D3 bar plot was
clicked on, and know which bar was clicked. Enabling communication from
D3 to Shiny requires changes to both D3 and Shiny code:</p>
<ul>
<li><p><em>D3 script</em> - Add a call to the Shiny JavaScript function
<code>Shiny.setInputValue()</code>. To use
<code>Shiny.setInputValue()</code>, <strong>you will need
<code>shiny</code> version 1.1 or above.</strong></p></li>
<li><p><em>Shiny script</em> - Add a reactive function that looks for
the change and performs an action based on the selected value.</p></li>
</ul>
<div class="section level3">
<h3 id="example-1">Example<a class="anchor" aria-label="anchor" href="#example-1"></a>
</h3>
<p>In this example, the bar plot will pass to Shiny the data value of
the bar that the user clicked on. Shiny will then display the cosine of
the value.</p>
<div class="section level4">
<h4 id="d3-code">D3 Code<a class="anchor" aria-label="anchor" href="#d3-code"></a>
</h4>
<p>Here is the D3 script:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co">// !preview r2d3 data=c(0.3, 0.6, 0.8, 0.95, 0.40, 0.20)</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="kw">var</span> barHeight <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">ceil</span>(height <span class="op">/</span> data<span class="op">.</span><span class="at">length</span>)<span class="op">;</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>svg<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">'rect'</span>)</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>  <span class="op">.</span><span class="fu">data</span>(data)</span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>  <span class="op">.</span><span class="fu">enter</span>()<span class="op">.</span><span class="fu">append</span>(<span class="st">'rect'</span>)</span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'width'</span><span class="op">,</span> <span class="kw">function</span>(d) { <span class="cf">return</span> d <span class="op">*</span> width<span class="op">;</span> })</span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'height'</span><span class="op">,</span> barHeight)</span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'y'</span><span class="op">,</span> <span class="kw">function</span>(d<span class="op">,</span> i) { <span class="cf">return</span> i <span class="op">*</span> barHeight<span class="op">;</span> })</span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'fill'</span><span class="op">,</span> <span class="st">'steelblue'</span>)</span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"d"</span><span class="op">,</span> <span class="kw">function</span>(d) { <span class="cf">return</span> d<span class="op">;</span> })</span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a>    <span class="op">.</span><span class="fu">on</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>(){</span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a>      Shiny<span class="op">.</span><span class="fu">setInputValue</span>(</span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a>        <span class="st">"bar_clicked"</span><span class="op">,</span> </span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a>        d3<span class="op">.</span><span class="fu">select</span>(<span class="kw">this</span>)<span class="op">.</span><span class="fu">attr</span>(<span class="st">"d"</span>)<span class="op">,</span></span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a>        {<span class="dt">priority</span><span class="op">:</span> <span class="st">"event"</span>}</span>
<span id="cb4-18"><a href="#cb4-18" tabindex="-1"></a>        )<span class="op">;</span></span>
<span id="cb4-19"><a href="#cb4-19" tabindex="-1"></a>    })<span class="op">;</span></span></code></pre></div>
<p>First, we need to decide which attribute (<code>.attr</code>) is
going to be passed to Shiny when the user clicks. Any existing attribute
can be passed, such as the value of <code>y</code> or
<code>width</code>, but because no current attribute contain the raw
value of the data, a new made up attribute is added, we called it
<code>d</code>. The <code>d</code> attribute is set to rerun the
<code>d</code> variable.</p>
<p><img src="images%2Fattr.PNG" class="illustration" width="600/"></p>
<p>Next, the <code>on()</code> function is used to capture an event
inside the plot.The first argument is <em>“click”</em>, indicating that
we want it to be activated when someone clicks on the plot. The second
argument of <code>on()</code> is a function, this function will contain
a call to the <code>Shiny.setInputValue()</code> JS function. The first
argument of the Shiny JS function is the name that the Shiny app will be
looking for. In this case, we will use <strong>bar_clicked</strong>. The
second argument is the value that is returned to Shiny, and for that, we
will use the <code>d</code> attribute created previously. The third
argument, <code>{priority: "event"}</code>, is an option for input
values that want to be treated less like values to be monitored, and
more like events that are not to be missed.</p>
<p><img src="images%2Fonclick.PNG" class="illustration" width="600/"></p>
</div>
<div class="section level4">
<h4 id="shiny-code">Shiny Code<a class="anchor" aria-label="anchor" href="#shiny-code"></a>
</h4>
<p>Here’s the code for the Shiny application that interacts with D3:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rstudio.github.io/r2d3/">r2d3</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html" class="external-link">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textOutput.html" class="external-link">verbatimTextOutput</a></span><span class="op">(</span><span class="st">"selected"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/d3-shiny.html">d3Output</a></span><span class="op">(</span><span class="st">"d3"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">d3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/d3-shiny.html">renderD3</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu"><a href="../reference/r2d3.html">r2d3</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.3</span>, <span class="fl">0.6</span>, <span class="fl">0.8</span>, <span class="fl">0.95</span>, <span class="fl">0.40</span><span class="op">)</span>,</span>
<span>      script <span class="op">=</span> <span class="st">"bar.js"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">selected</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html" class="external-link">renderText</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">bar_number</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/req.html" class="external-link">req</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">bar_clicked</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">bar_number</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/Trig.html" class="external-link">cos</a></span><span class="op">(</span><span class="va">bar_number</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre></div>
<p>The <code>ui</code> contains a text output named
<code>selected</code>. Server-side, a reactive function, called
<code>output$selected()</code> will used to capture the changes of the
bar selection.</p>
<p>In the D3 script, we called <code>Shiny.setInputValued()</code> with
an input named <code>bar_clicked</code>. This can now be used as if was
an Shiny <code>input</code> in the app. In this case, the name to track
will be: <code>input$bar_clicked</code>. <strong>The
<code>Shiny.setInputValued()</code> JS function is recognized by the
<code>shiny</code> package version 1.1 and above.</strong></p>
<p>The <code>output$selected()</code> function uses
<code><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html" class="external-link">renderText()</a></code> to display the cosine of the bar that was
clicked on. The call to <code>input$bar_clicked</code> is used inside
<code><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html" class="external-link">renderText()</a></code> to execute the <code><a href="https://rdrr.io/r/base/Trig.html" class="external-link">cos()</a></code>
calculation.</p>
<p>The default value of <code>input$bar_clicked</code> will be
<code>NULL</code> at the startup of the app. In this state you won’t
want to perform any calculation (as it would result in an error) or
display any output. Shiny’s <code><a href="https://rdrr.io/pkg/shiny/man/req.html" class="external-link">req()</a></code> function can be used to
prevent errors in this case <code><a href="https://rdrr.io/pkg/shiny/man/req.html" class="external-link">req()</a></code> stops reactivity if the
value of the variable passed as an argument is not valid, read more
about this function in Shiny’s official site: <a href="http://shiny.rstudio.com/reference/shiny/latest/req.html" class="external-link">Check
for required values</a></p>
<p>Here is the Shiny application in action:</p>
<p><img src="images%2Fd3toshiny.gif" class="illustration" width="600/"></p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Nick Strayer, Javier Luraschi, JJ Allaire.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
